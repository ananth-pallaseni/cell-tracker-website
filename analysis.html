<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Analysis</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- Theme CSS -->
    <link href="css/grayscale.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top"  data-target=".navbar-fixed-top">


    <!-- Intro Header -->
    <header id='header' class="intro">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1">
                        <h1 class="brand-heading">Analysis</h1>
                        <p class="intro-text">Measures of Morphology</p>
                        <a href="#motivation" class="btn btn-circle page-scroll bookend-nav-btn">
                            <i class="fa fa-angle-double-down animated"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id='motivation' class="container content-section text-center">
        <div class="row">

            
            <div class="col-lg-10 col-lg-offset-1">

               <h2 class='sub-headers'>Motivation</h2>
               <p class="left-aligned">Morphological properties of HSCs inside their niche is not well studied. This project aimed to quantify various measurements of HSC morphology using 4d cell data from in vivo microscope images. </p>
                

            </div>
            
        </div>
    </section>


    <section id='aspect_ratio' class="container content-section text-center alt-back">
        <div class="row">

            
            <div class="col-lg-10 col-lg-offset-1">

               <h2 class='sub-headers'>Aspect Ratio 3d</h2>
               <p class="left-aligned">The first measure of morphology to be considered was the aspect ratio, which is a measure of how elongated a shape is. For regular shapes, aspect ratio is the longest axis divided by the shortest axis. Thus a larger value indicates a more elongated shape, while values close to one indicate a more round or square shape. It was hypothesised that the HSCs should get more elongated when they move faster, and the following analysis tests this hypothesis.</p> 

               <div class="row">
                   <div class="col-lg-6">
                       <h3 class="sub-headers">Methodology</h3>
                       <!-- <p class="left-aligned ">Ellipse. Tried Major axes / 2nd . Tried Major axis / 3rd. Show image of bounding ellipse. <br>
                       <br>
                       <br>
                       <br>
                       <br>
                       <br>
                       <br>
                       <br></p> -->


                       <p class="left-aligned ">To obtain the aspect ratio of the cell, we first calculated its minimum volume bounding ellipsoid (MVBE). This is the ellipsoid that contains all points in the cell while having the least wasted volume <a href="references.html#ref8">[8]</a>. See the simulation to the right for a visualization of this concept. The MVBE provides a convenient way to quantify the "axes" of a cell: these are just the major and minor axes of the ellipsoid which is fitted and thus the aspect ratio of the cell is the longest of these axes divided by the shorter. The speed of the cell was calculated by considering the difference in position of the center of mass of the cell at each time step and dividing by the length of the time step. </p>

                    </div>
                    <div class="col-lg-6 tall vis-col" >
                        <div class="row vis-row" id='wf_container'>
                            bounding ellipse img
                        </div>

                        <div class="row ctrl-row">
                            <div class="col-xs-3 ctrl-col">
                                <button type='button' onclick="wf_blob()" id='wf-btn-cell' class="ctrl-btn active">Cell</button>
                            </div>
                            <div class="col-xs-3 ctrl-col">
                                <button type='button' onclick="wf_ellipse()" id='wf-btn-ellipse' class="ctrl-btn">Ellipse</button>
                            </div>
                            <div class="col-xs-3 ctrl-col">
                                <button type='button' onclick="wf_both()" id='wf-btn-both' class="ctrl-btn">Both</button>
                            </div>
                            <div class="col-xs-3 ctrl-col">
                                <button type='button' onclick="wf_toggle_axes()" id='wf-btn-axes' class="ctrl-btn">Toggle Axes</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="row">
                     <div class="col-lg-6 tall vis-col" >
                         <div class="row vis-row" id='ap12-vs-speed-container'>
                             results results
                         </div>

                         <div class="row ctrl-row">
                             <div class="col-xs-6 ctrl-col">
                                 <button type='button' onclick="ap12_vs_speed_plot_5()" id='ap-vs-spd-btn-5' class="ctrl-btn active">Sort 5</button>
                             </div>
                             <div class="col-xs-6 ctrl-col">
                                 <button type='button' onclick="ap12_vs_speed_plot_6()" id='ap-vs-spd-btn-6' class="ctrl-btn">Sort 6</button>
                             </div>
                         </div>
                     </div>
                     <div class="col-lg-6">
                        <h3 class="sub-headers">Results</h3>
                        <!-- <p class="left-aligned ">show graphs of both 1/2 and 1/3. Discuss lack of correlation. found this surprising as we assumed this would be a faily safe assumption.<br>
                       <br>
                       <br>
                       <br>
                       <br>
                       <br></p> -->
                       <p class="left-aligned ">The graphs to the left show the results of plotting the aspect ratio against the speed for cells in two different microscopy sessions (labelled Sort 5 and Sort 6). Both show what seems to be a random distribution of points. There does not seem to be any correlation betweent the aspect ratio of these cells and the speed at which they move. This is surprising as we had assumed elongation at speed to be a fairly safe assumption.</p>
                     </div>
                 </div>

            </div>
            
        </div>
    </section>

    <section id='aspect_ratio_2d' class="container content-section text-center">

        <div class="row">
            <div class="col-lg-10 col-lg-offset-1">
                <h2 class="sub-headers">Aspect Ratio 2d</h2>
                <p class="left-aligned">
                The randomness of the analysis above is thought to have arisen from a lack of resolution in the z dimension of the microscopy data. Each pixel in the images represents ~0.5 microns in the x and y dimensions, but ~5 microns in the z dimension. This can be seen when plotting the detected points in 3d space as in the diagram below; there are large gaps between the "slices" in the z-axis. To test this idea, we tried considering only the aspect ratio in the x-y plane. </p>
                <div class="row">
                    <div class="col-lg-6">
                        <h3 class="sub-headers">Methodology</h3>
                        <p class="left-aligned ">To get the aspect ratio in 2d, we projected the points of the cell onto the x-y plane and then calculated the MVBE (which is just an ellipse in 2d). The aspect ratio is then the major axis divided by the minor axis. The speed was calculated by finding the difference in centroid coordinates at adjacent timesteps and dividing by the length of the timestep.</p>
                     </div>
                     <div class="col-lg-6 tall vis-col" >
                         <div class="row vis-row" id='projection-container'>
                             results results
                         </div>

                         <div class="row ctrl-row">
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="ap2d_proj()" id='proj-btn-cell' class="ctrl-btn active">Cell Projection</button>
                             </div>
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="ap2d_ell()" id='proj-btn-ellipse' class="ctrl-btn">Ellipse</button>
                             </div>
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="ap2d_both()" id='proj-btn-both' class="ctrl-btn">Both</button>
                             </div>
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="adp2d_toggle_axes()" id='proj-btn-axes' class="ctrl-btn">Toggle Axes</button>
                             </div>
                         </div>
                     </div>
                 </div>


                 <div class="row">
                     <div class="col-lg-6 tall vis-col" >
                         <div class="row vis-row" id='ap2d-vs-speed-container'>
                             results results
                         </div>

                         <div class="row ctrl-row">
                             <div class="col-xs-4 ctrl-col">
                                 <button type='button' onclick="ap2d_vs_speed_plot_5()" id='ap2d-vs-spd-btn-5' class="ctrl-btn active">Sort 5</button>
                             </div>
                             <div class="col-xs-4 ctrl-col">
                                 <button type='button' onclick="ap2d_vs_speed_plot_6()" id='ap2d-vs-spd-btn-6' class="ctrl-btn">Sort 6</button>
                             </div>
                             <div class="col-xs-4 ctrl-col">
                                 <button type='button' onclick="ap2d_vs_speed_plot_both()" id='ap2d-vs-spd-btn-both' class="ctrl-btn">Both</button>
                             </div>
                         </div>
                     </div>
                      <div class="col-lg-6">
                         <h3 class="sub-headers">Results</h3>
                         <p class="left-aligned ">The graphs to the left show the relationship between the 2d aspect ratio and speed for the cells in Sort 5 and Sort 6. Once again, there does not seem to be any correlation. These cells do not show any trend between their elongation and the speed at which they move. </p>
                      </div>
                  </div>
            </div>
        </div>

    </section>


    <section id='aspect_ratio_time' class="container content-section text-center alt-back">
        <div class="row">
            <div class="col-lg-10 col-lg-offset-1">

                <h2 class="sub-headers">Aspect Ratio 3d / 2d against time</h2>
                <p class="left-aligned "> After the inconclusive results of the preceding attempts at considering aspect ratio, we decided to try a more exploratory approach. Instead of speed, we plotted the aspect ratio against time to see if there were any patterns that could be discened. </p>

                 <div class="row">
                     <div class="col-lg-6 tall vis-col" >
                         <div class="row vis-row" id='ap-vs-time-container'>
                             results results
                         </div>

                         <div class="row ctrl-row">
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="ap12_vs_time_plot_5()" id='ap12-vs-time-btn-5' class="ctrl-btn active">Sort 5, 3d</button>
                             </div>
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="ap12_vs_time_plot_6()" id='ap12-vs-time-btn-6' class="ctrl-btn">Sort 6, 3d</button>
                             </div>
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="ap12_2d_vs_time_plot_5()" id='aap12-2d-vs-time-btn-5' class="ctrl-btn">Sort 5, 2d</button>
                             </div>
                             <div class="col-xs-3 ctrl-col">
                                 <button type='button' onclick="ap12_2d_vs_time_plot_6()" id='ap12-2d-vs-time-btn-6' class="ctrl-btn">Sort 6, 2d</button>
                             </div>
                         </div>
                     </div>
                      <div class="col-lg-6">
                         <h3 class="sub-headers">Results</h3>
                <p class="left-aligned "> The graphs to the left show the results of this attempt. In both 2d and 3d, using both ways of calculating aspect ratio, there did not seem to be any significant patterns. Finally, this line of enquiry was abandoned.  </p>
                      </div>
                  </div>

            </div>
        </div>

    </section>

    <section id='polarity' class="container content-section text-center">
        <div class="row">
            <div class="col-lg-10 col-lg-offset-1">

                <h2 class="sub-headers">Polarity</h2>
                <p class="left-aligned ">Moving forward from aspect ratio, we look at the polarity of the cell and how this relates to its direction of movement. The polarity of a cell is loosely defined as the directon in which the cell is oriented. We tested the hypothesis that the polarity of a cell should line up with the direction in which it is moving.</p>
                <div class="row">
                    <div class="col-lg-6">
                        <h3 class="sub-headers">Methodology</h3>
                        <p class="left-aligned ">Once again we start with the bounding ellipsoid of the cell. Consider the vector given by the longest axis of the ellipsoid, as shown in red in the simulation to the right. This vector can be considered the direction in which the cell is facing. The direction of movement is the vector between the current center of mass and the next center of mass, shown in green on the simulation. We then take the angle between these two vectors in 3d and this is the metric we are tracking. Note that the angle is at most ~1.6 radians (180 degrees) as the symmetry in the ellipsoid means that we can always invert the polarity of the cell.</p>
                     </div>
                     <div class="col-lg-6 tall vis-col" >
                         <div class="row vis-row" id='polarity-sim-container'>
                             results results
                         </div>
                     </div>
                 </div>


                 <div class="row">
                     <div class="col-lg-6 tall vis-col" >
                         <div class="row vis-row" id='polarity-container'>
                             results results
                         </div>

                         <div class="row ctrl-row">
                             <div class="col-xs-4 ctrl-col">
                                 <button type='button' onclick="polarity_plot_5()" id='pol-btn-5' class="ctrl-btn active">Sort 5</button>
                             </div>
                             <div class="col-xs-4 ctrl-col">
                                 <button type='button' onclick="polarity_plot_6()" id='pol-btn-6' class="ctrl-btn">Sort 6</button>
                             </div>
                             <div class="col-xs-4 ctrl-col">
                                 <button type='button' onclick="polarity_plot_both()" id='pol-btn-both' class="ctrl-btn">Both</button>
                             </div>
                             
                         </div>
                     </div>
                      <div class="col-lg-6">
                         <h3 class="sub-headers">Results</h3>
                <p class="left-aligned ">The bar charts to the left show the results of the above analysis. The x-axis is the angle between polarity and direction of movement, while the y-axis is the number of cells that fell into that category. All angles up the the maximum seem to be represented uniformly, meaning that these cells did not show any preference for facing their direction of movement.</p>
                      </div>
                  </div>

            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <h6>Ananth Pallaseni, 2017</h6>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.js"></script>

    <!-- Match Heights -->
    <script src="vendor/jquery.matchHeight.js" type="text/javascript"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/grayscale.js"></script>

    <script type="text/javascript" src='vendor/vis/dist/vis.js'></script>
    <script type="text/javascript" src='js/wf_vis.js'></script>

    <!-- Highcharts -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="js/charts.js"></script>


</body>

</html>